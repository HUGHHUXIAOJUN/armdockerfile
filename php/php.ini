; 基础配置
memory_limit = 128M
upload_max_filesize = 50M
post_max_size = 50M
max_execution_time = 300
max_input_time = 300
max_file_uploads = 20

; 错误显示
display_errors = Off
log_errors = On
error_log = /var/log/php/error.log

; 时区设置
date.timezone = Asia/Shanghai

; 会话配置
session.gc_maxlifetime = 1440
session.cookie_lifetime = 0
session.cookie_secure = 1  ; 仅 HTTPS
session.cookie_samesite = Lax

; 文件上传配置
file_uploads = On
upload_tmp_dir = /tmp

; 扩展配置
extension=pdo
extension=pdo_mysql
extension=mysqli
extension=gd
extension=mbstring
extension=curl
extension=json
extension=zip
extension=exif

; 安全配置
allow_url_fopen = Off
allow_url_include = Off
expose_php = Off

; 性能优化
opcache.enable=1
opcache.memory_consumption=128
opcache.interned_strings_buffer=8
opcache.max_accelerated_files=10000
opcache.revalidate_freq=2